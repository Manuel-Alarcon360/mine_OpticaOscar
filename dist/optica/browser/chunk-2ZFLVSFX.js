import{L as u,f as o,ka as s,rc as a,sc as r}from"./chunk-3POYB5FS.js";import{a as t,b as i}from"./chunk-TSRGIXR5.js";var c=class l{_config={ripple:!1,preset:"Lara",primary:"sky",inputStyle:"outlined",surface:"ocean",darkTheme:!1,menuMode:"static",menuTheme:"transparent"};_state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,sidebarActive:!1,anchored:!1,overlaySubmenuActive:!1,profileSidebarVisible:!1,changePaswordVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1,activeMenuItem:null};layoutConfig=s(this._config);layoutState=s(this._state);configUpdate=new o;overlayOpen=new o;menuSource=new o;resetSource=new o;menuSource$=this.menuSource.asObservable();resetSource$=this.resetSource.asObservable();configUpdate$=this.configUpdate.asObservable();overlayOpen$=this.overlayOpen.asObservable();isDarkTheme=a(()=>this.layoutConfig().darkTheme);isSlim=a(()=>this.layoutConfig().menuMode==="slim");isSlimPlus=a(()=>this.layoutConfig().menuMode==="slim-plus");isHorizontal=a(()=>this.layoutConfig().menuMode==="horizontal");isOverlay=a(()=>this.layoutConfig().menuMode==="overlay");transitionComplete=s(!1);isSidebarStateChanged=a(()=>{let e=this.layoutConfig();return e.menuMode==="horizontal"||e.menuMode==="slim"||e.menuMode==="slim-plus"});initialized=!1;constructor(){r(()=>{this.layoutConfig()&&this.onConfigUpdate()}),r(()=>{let e=this.layoutConfig();if(!this.initialized||!e){this.initialized=!0;return}this.handleDarkModeTransition(e)}),r(()=>{this.isSidebarStateChanged()&&this.reset()})}handleDarkModeTransition(e){"startViewTransition"in document?this.startViewTransition(e):(this.toggleDarkMode(e),this.onTransitionEnd())}startViewTransition(e){document.startViewTransition(()=>{this.toggleDarkMode(e)}).ready.then(()=>{this.onTransitionEnd()}).catch(()=>{})}toggleDarkMode(e){(e||this.layoutConfig()).darkTheme?document.documentElement.classList.add("app-dark"):document.documentElement.classList.remove("app-dark")}onTransitionEnd(){this.transitionComplete.set(!0),setTimeout(()=>{this.transitionComplete.set(!1)})}onMenuToggle(){this.isOverlay()&&(this.layoutState.update(e=>i(t({},e),{overlayMenuActive:!this.layoutState().overlayMenuActive})),this.layoutState().overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.layoutState.update(e=>i(t({},e),{staticMenuDesktopInactive:!this.layoutState().staticMenuDesktopInactive})):(this.layoutState.update(e=>i(t({},e),{staticMenuMobileActive:!this.layoutState().staticMenuMobileActive})),this.layoutState().staticMenuMobileActive&&this.overlayOpen.next(null))}onConfigUpdate(){this._config=t({},this.layoutConfig()),this.configUpdate.next(this.layoutConfig())}onMenuStateChange(e){this.menuSource.next(e)}reset(){this.resetSource.next(!0)}onOverlaySubmenuOpen(){this.overlayOpen.next(null)}showProfileSidebar(){this.layoutState.update(e=>i(t({},e),{profileSidebarVisible:!0}))}showChangePassword(){this.layoutState.update(e=>i(t({},e),{changePaswordVisible:!0}))}showConfigSidebar(){this.layoutState.update(e=>i(t({},e),{configSidebarVisible:!0}))}hideConfigSidebar(){this.layoutState.update(e=>i(t({},e),{configSidebarVisible:!1}))}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}static \u0275fac=function(n){return new(n||l)};static \u0275prov=u({token:l,factory:l.\u0275fac,providedIn:"root"})};export{c as a};
